<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>CreditoSintesiJoselito</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="assets/fontawesome/css/all.min.css">
</head>
<body>

    <header></header>

    <div class="wrapper4">
        <section>

            <h3>CÃ³digo Arduino</h3>

            <p></p>

            <p>A continuacion se expone el codigo de uno de nuestros ultimos talleres</p>

            <p>Todo nuestro codigo fue creado desde 0 por nosotros con ayuda de nuestro tutor de aplicaciones web, informacion sacada de repositorios github de otros usuarios, paginas web, youtube, etc...</p>

            <p>Todo nuestro codigo fue creado desde 0 por nosotros con informacion sacada de repositorios github de otros usuarios, paginas web, youtube, etc...</p>

            <p><!-- HTML generated using hilite.me --><div style="background: #ffffff; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #888888">//*******************************************************************************</span>
              <span style="color: #FF0000; background-color: #FFAAAA">#</span>define SCL_Pin  A5  <span style="color: #888888">//Set the clock pin to A5</span>
              <span style="color: #FF0000; background-color: #FFAAAA">#</span>define SDA_Pin  A4  <span style="color: #888888">//Set data pin to A4</span>
              
              <span style="color: #888888">//Array, used to store the data of pattern, can be calculated by yourself or obtained from the modulus tool</span>
              
              unsigned <span style="color: #333399; font-weight: bold">char</span> start01<span style="color: #333333">[]</span> <span style="color: #333333">=</span> <span style="color: #333333">{</span><span style="color: #005588; font-weight: bold">0x02</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x3e</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x02</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x3e</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x2a</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x22</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x02</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x3e</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x02</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x3e</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x2a</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x22</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x32</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x0c</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x0c</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x32</span><span style="color: #333333">};</span>
              unsigned <span style="color: #333399; font-weight: bold">char</span> efront<span style="color: #333333">[]</span> <span style="color: #333333">=</span> <span style="color: #333333">{</span><span style="color: #005588; font-weight: bold">0x02</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x3e</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x02</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x3e</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x2a</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x22</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x02</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x3e</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x02</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x3e</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x2a</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x22</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x32</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x0c</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x0c</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x32</span><span style="color: #333333">};</span>
              unsigned <span style="color: #333399; font-weight: bold">char</span> eback<span style="color: #333333">[]</span> <span style="color: #333333">=</span> <span style="color: #333333">{</span><span style="color: #005588; font-weight: bold">0x02</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x3e</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x02</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x3e</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x2a</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x22</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x02</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x3e</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x02</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x3e</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x2a</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x22</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x32</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x0c</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x0c</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x32</span><span style="color: #333333">};</span>
              unsigned <span style="color: #333399; font-weight: bold">char</span> eleft<span style="color: #333333">[]</span> <span style="color: #333333">=</span> <span style="color: #333333">{</span><span style="color: #005588; font-weight: bold">0x02</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x3e</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x02</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x3e</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x2a</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x22</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x02</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x3e</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x02</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x3e</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x2a</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x22</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x32</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x0c</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x0c</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x32</span><span style="color: #333333">};</span>
              unsigned <span style="color: #333399; font-weight: bold">char</span> eright<span style="color: #333333">[]</span> <span style="color: #333333">=</span> <span style="color: #333333">{</span><span style="color: #005588; font-weight: bold">0x02</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x3e</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x02</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x3e</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x2a</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x22</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x02</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x3e</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x02</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x3e</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x2a</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x22</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x32</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x0c</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x0c</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x32</span><span style="color: #333333">};</span>
              unsigned <span style="color: #333399; font-weight: bold">char</span> STOP01<span style="color: #333333">[]</span> <span style="color: #333333">=</span> <span style="color: #333333">{</span><span style="color: #005588; font-weight: bold">0x7c</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x12</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x12</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x12</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x7c</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x7e</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x04</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x08</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x04</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x7e</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x7c</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x12</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x12</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x7c</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x00</span><span style="color: #333333">,</span> <span style="color: #005588; font-weight: bold">0x7e</span><span style="color: #333333">};</span>
              unsigned <span style="color: #333399; font-weight: bold">char</span> clear<span style="color: #333333">[]</span> <span style="color: #333333">=</span> <span style="color: #333333">{</span><span style="color: #005588; font-weight: bold">0x00</span><span style="color: #333333">,</span><span style="color: #005588; font-weight: bold">0x00</span><span style="color: #333333">,</span><span style="color: #005588; font-weight: bold">0x00</span><span style="color: #333333">,</span><span style="color: #005588; font-weight: bold">0x00</span><span style="color: #333333">,</span><span style="color: #005588; font-weight: bold">0x00</span><span style="color: #333333">,</span><span style="color: #005588; font-weight: bold">0x00</span><span style="color: #333333">,</span><span style="color: #005588; font-weight: bold">0x00</span><span style="color: #333333">,</span><span style="color: #005588; font-weight: bold">0x00</span><span style="color: #333333">,</span><span style="color: #005588; font-weight: bold">0x00</span><span style="color: #333333">,</span><span style="color: #005588; font-weight: bold">0x00</span><span style="color: #333333">,</span><span style="color: #005588; font-weight: bold">0x00</span><span style="color: #333333">,</span><span style="color: #005588; font-weight: bold">0x00</span><span style="color: #333333">,</span><span style="color: #005588; font-weight: bold">0x00</span><span style="color: #333333">,</span><span style="color: #005588; font-weight: bold">0x00</span><span style="color: #333333">,</span><span style="color: #005588; font-weight: bold">0x00</span><span style="color: #333333">,</span><span style="color: #005588; font-weight: bold">0x00</span><span style="color: #333333">};</span>
              
              <span style="color: #FF0000; background-color: #FFAAAA">#</span>include <span style="color: #333333">&lt;</span>Arduino<span style="color: #333333">.</span><span style="color: #0000CC">h</span><span style="color: #333333">&gt;</span>
              <span style="color: #FF0000; background-color: #FFAAAA">#</span>include <span style="color: #333333">&lt;</span>IRremote<span style="color: #333333">.</span><span style="color: #0000CC">h</span><span style="color: #333333">&gt;</span><span style="color: #888888">//function library of IR remote control</span>
              <span style="color: #333399; font-weight: bold">int</span> RECV_PIN <span style="color: #333333">=</span> <span style="color: #0000DD; font-weight: bold">3</span><span style="color: #333333">;</span><span style="color: #888888">//set the pin of IR receiver to D3</span>
              IRrecv <span style="color: #0066BB; font-weight: bold">irrecv</span><span style="color: #333333">(</span>RECV_PIN<span style="color: #333333">);</span>
              <span style="color: #333399; font-weight: bold">long</span> irr_val<span style="color: #333333">;</span>
              decode_results results<span style="color: #333333">;</span>
              
              <span style="color: #333399; font-weight: bold">int</span> left_ctrl <span style="color: #333333">=</span> <span style="color: #0000DD; font-weight: bold">2</span><span style="color: #333333">;</span><span style="color: #888888">//define the direction control pins of group B motor</span>
              <span style="color: #333399; font-weight: bold">int</span> left_pwm <span style="color: #333333">=</span> <span style="color: #0000DD; font-weight: bold">5</span><span style="color: #333333">;</span><span style="color: #888888">//define the PWM control pins of group B motor</span>
              <span style="color: #333399; font-weight: bold">int</span> right_ctrl <span style="color: #333333">=</span> <span style="color: #0000DD; font-weight: bold">4</span><span style="color: #333333">;</span><span style="color: #888888">//define the direction control pins of group A motor</span>
              <span style="color: #333399; font-weight: bold">int</span> right_pwm <span style="color: #333333">=</span> <span style="color: #0000DD; font-weight: bold">6</span><span style="color: #333333">;</span><span style="color: #888888">//define the PWM control pins of group A motor</span>
              
              <span style="color: #888888">//sigue lineas</span>
              
              <span style="color: #FF0000; background-color: #FFAAAA">#</span>define ML_Ctrl <span style="color: #0000DD; font-weight: bold">4</span>     <span style="color: #888888">//define direction control pin of B motor</span>
              <span style="color: #FF0000; background-color: #FFAAAA">#</span>define ML_PWM <span style="color: #0000DD; font-weight: bold">5</span>   <span style="color: #888888">//define PWM control pin of B motor</span>
              <span style="color: #FF0000; background-color: #FFAAAA">#</span>define MR_Ctrl <span style="color: #0000DD; font-weight: bold">2</span>    <span style="color: #888888">//define direction control pin of A motor</span>
              <span style="color: #FF0000; background-color: #FFAAAA">#</span>define MR_PWM <span style="color: #0000DD; font-weight: bold">9</span>   <span style="color: #888888">//define PWM control pin of A motor</span>
              <span style="color: #333399; font-weight: bold">int</span> sensor_L <span style="color: #333333">=</span> <span style="color: #0000DD; font-weight: bold">11</span><span style="color: #333333">;</span><span style="color: #888888">//define the pin of left line tracking sensor</span>
              <span style="color: #333399; font-weight: bold">int</span> sensor_M <span style="color: #333333">=</span> <span style="color: #0000DD; font-weight: bold">7</span><span style="color: #333333">;</span><span style="color: #888888">//define the pin of middle line tracking sensor</span>
              <span style="color: #333399; font-weight: bold">int</span> sensor_R <span style="color: #333333">=</span> <span style="color: #0000DD; font-weight: bold">8</span><span style="color: #333333">;</span><span style="color: #888888">//define the pin of right line tracking sensor</span>
              <span style="color: #333399; font-weight: bold">int</span> L_val<span style="color: #333333">,</span>M_val<span style="color: #333333">,</span>R_val<span style="color: #333333">;</span><span style="color: #888888">//define these variables</span>
              
              
              <span style="color: #FF0000; background-color: #FFAAAA">#</span>include <span style="color: #333333">&lt;</span>Servo<span style="color: #333333">.</span><span style="color: #0000CC">h</span><span style="color: #333333">&gt;</span>
              Servo servo_A3<span style="color: #333333">;</span><span style="color: #888888">//set the pin of servo to A3 </span>
              
              unsigned <span style="color: #333399; font-weight: bold">char</span> data_line <span style="color: #333333">=</span> <span style="color: #0000DD; font-weight: bold">0</span><span style="color: #333333">;</span>
              unsigned <span style="color: #333399; font-weight: bold">char</span> delay_count <span style="color: #333333">=</span> <span style="color: #0000DD; font-weight: bold">0</span><span style="color: #333333">;</span>
              
              <span style="color: #333399; font-weight: bold">int</span> mode <span style="color: #333333">=</span> <span style="color: #0000DD; font-weight: bold">0</span><span style="color: #333333">;</span> 
              
              <span style="color: #FF0000; background-color: #FFAAAA">#</span>include <span style="background-color: #fff0f0">&quot;SR04.h&quot;</span><span style="color: #888888">//define the library of ultrasonic sensor</span>
              <span style="color: #FF0000; background-color: #FFAAAA">#</span>define TRIG_PIN <span style="color: #0000DD; font-weight: bold">12</span><span style="color: #888888">// set the signal output of ultrasonic sensor to D12 </span>
              <span style="color: #FF0000; background-color: #FFAAAA">#</span>define ECHO_PIN <span style="color: #0000DD; font-weight: bold">13</span><span style="color: #888888">//set the signal input of ultrasonic sensor to D13 </span>
              SR04 sr04 <span style="color: #333333">=</span> SR04<span style="color: #333333">(</span>ECHO_PIN<span style="color: #333333">,</span>TRIG_PIN<span style="color: #333333">);</span>
              <span style="color: #333399; font-weight: bold">long</span> distance<span style="color: #333333">,</span>a1<span style="color: #333333">,</span>a2<span style="color: #333333">;</span><span style="color: #888888">//define three distance</span>
              <span style="color: #008800; font-weight: bold">const</span> <span style="color: #333399; font-weight: bold">int</span> servopin <span style="color: #333333">=</span> A3<span style="color: #333333">;</span><span style="color: #888888">//set the pin of servo to A3 </span>
              
              
              
              <span style="color: #333399; font-weight: bold">void</span> <span style="color: #0066BB; font-weight: bold">setup</span><span style="color: #333333">()</span> <span style="color: #333333">{</span>
                Serial<span style="color: #333333">.</span><span style="color: #0000CC">begin</span><span style="color: #333333">(</span><span style="color: #0000DD; font-weight: bold">9600</span><span style="color: #333333">);</span><span style="color: #888888">//</span>
                <span style="color: #888888">// In case the interrupt driver crashes on setup, give a clue</span>
                <span style="color: #888888">// to the user what&#39;s going on.</span>
                Serial<span style="color: #333333">.</span><span style="color: #0000CC">println</span><span style="color: #333333">(</span><span style="background-color: #fff0f0">&quot;Enabling IRin&quot;</span><span style="color: #333333">);</span>
                irrecv<span style="color: #333333">.</span><span style="color: #0000CC">enableIRIn</span><span style="color: #333333">();</span> <span style="color: #888888">// Start the receiver</span>
                Serial<span style="color: #333333">.</span><span style="color: #0000CC">println</span><span style="color: #333333">(</span><span style="background-color: #fff0f0">&quot;Enabled IRin&quot;</span><span style="color: #333333">);</span>
                pinMode<span style="color: #333333">(</span>left_ctrl<span style="color: #333333">,</span>OUTPUT<span style="color: #333333">);</span><span style="color: #888888">//set direction control pins of group B motor to OUTPUT</span>
                pinMode<span style="color: #333333">(</span>left_pwm<span style="color: #333333">,</span>OUTPUT<span style="color: #333333">);</span><span style="color: #888888">//set PWM control pins of group B motor to OUTPUT</span>
                pinMode<span style="color: #333333">(</span>right_ctrl<span style="color: #333333">,</span>OUTPUT<span style="color: #333333">);</span><span style="color: #888888">//set direction control pins of group A motor to OUTPUT</span>
                pinMode<span style="color: #333333">(</span>right_pwm<span style="color: #333333">,</span>OUTPUT<span style="color: #333333">);</span><span style="color: #888888">//set PWM control pins of group A motor to OUTPUT</span>
                servo_A3<span style="color: #333333">.</span><span style="color: #0000CC">attach</span><span style="color: #333333">(</span>A3<span style="color: #333333">);</span>
                servo_A3<span style="color: #333333">.</span><span style="color: #0000CC">write</span><span style="color: #333333">(</span><span style="color: #0000DD; font-weight: bold">90</span><span style="color: #333333">);</span><span style="color: #888888">//the angle of servo is 90 degree</span>
                delay<span style="color: #333333">(</span><span style="color: #0000DD; font-weight: bold">300</span><span style="color: #333333">);</span>
                pinMode<span style="color: #333333">(</span>SCL_Pin<span style="color: #333333">,</span>OUTPUT<span style="color: #333333">);</span><span style="color: #888888">// Set the clock pin to output</span>
                pinMode<span style="color: #333333">(</span>SDA_Pin<span style="color: #333333">,</span>OUTPUT<span style="color: #333333">);</span><span style="color: #888888">//Set the data pin to output</span>
                matrix_display<span style="color: #333333">(</span>clear<span style="color: #333333">);</span>
                matrix_display<span style="color: #333333">(</span>start01<span style="color: #333333">);</span> <span style="color: #888888">//display start01 expression pattern</span>
              
                <span style="color: #888888">//SIGUELINEAS</span>
                pinMode<span style="color: #333333">(</span>sensor_L<span style="color: #333333">,</span>INPUT<span style="color: #333333">);</span><span style="color: #888888">//set the pins of left line tracking sensor to INPUT</span>
                pinMode<span style="color: #333333">(</span>sensor_M<span style="color: #333333">,</span>INPUT<span style="color: #333333">);</span><span style="color: #888888">//set the pins of middle line tracking sensor to INPUT</span>
                pinMode<span style="color: #333333">(</span>sensor_R<span style="color: #333333">,</span>INPUT<span style="color: #333333">);</span><span style="color: #888888">//set the pins of right line tracking sensor to INPUT</span>
                
              <span style="color: #333333">}</span>
              
              <span style="color: #333399; font-weight: bold">void</span> <span style="color: #0066BB; font-weight: bold">loop</span><span style="color: #333333">()</span> <span style="color: #333333">{</span>
              
                
                <span style="color: #008800; font-weight: bold">if</span> <span style="color: #333333">(</span>irrecv<span style="color: #333333">.</span><span style="color: #0000CC">decode</span><span style="color: #333333">(&amp;</span>results<span style="color: #333333">))</span> <span style="color: #333333">{</span>
                  irr_val <span style="color: #333333">=</span> results<span style="color: #333333">.</span><span style="color: #0000CC">value</span><span style="color: #333333">;</span>
                  Serial<span style="color: #333333">.</span><span style="color: #0000CC">println</span><span style="color: #333333">(</span><span style="background-color: #fff0f0">&quot;BOTON:&quot;</span><span style="color: #333333">);</span>
                  Serial<span style="color: #333333">.</span><span style="color: #0000CC">println</span><span style="color: #333333">(</span>irr_val<span style="color: #333333">,</span> HEX<span style="color: #333333">);</span><span style="color: #888888">//serial prints the read IR remote signals </span>
              
              
                  
                  <span style="color: #008800; font-weight: bold">switch</span><span style="color: #333333">(</span>irr_val<span style="color: #333333">)</span>
                  <span style="color: #333333">{</span>
              
              <span style="color: #888888">// * FF42BD</span>
              <span style="color: #888888">// # FF52AD</span>
              
                    <span style="color: #008800; font-weight: bold">case</span> <span style="color: #005588; font-weight: bold">0xFF42BD</span> <span style="color: #333333">:</span> mode <span style="color: #333333">=</span> <span style="color: #0000DD; font-weight: bold">1</span><span style="color: #333333">;</span>
                          <span style="color: #888888">// AUTO</span>
                          <span style="color: #008800; font-weight: bold">break</span><span style="color: #333333">;</span>
                
                    <span style="color: #008800; font-weight: bold">case</span> <span style="color: #005588; font-weight: bold">0xFF52AD</span> <span style="color: #333333">:</span> mode <span style="color: #333333">=</span> <span style="color: #0000DD; font-weight: bold">0</span><span style="color: #333333">;</span>
                          <span style="color: #888888">// MANUAL</span>
                          <span style="color: #008800; font-weight: bold">break</span><span style="color: #333333">;</span>
              
                    <span style="color: #008800; font-weight: bold">case</span> <span style="color: #005588; font-weight: bold">0xFF6897</span> <span style="color: #333333">:</span> mode <span style="color: #333333">=</span> <span style="color: #0000DD; font-weight: bold">2</span><span style="color: #333333">;</span>
                          <span style="color: #888888">// SIGUELINEAS</span>
                          <span style="color: #008800; font-weight: bold">break</span><span style="color: #333333">;</span>
                      
                    <span style="color: #008800; font-weight: bold">case</span> <span style="color: #005588; font-weight: bold">0xFF629D</span> <span style="color: #333333">:</span> car_front<span style="color: #333333">();</span> <span style="color: #888888">//Recive 0xFF629D, el coche va hacia delante</span>
                    matrix_display<span style="color: #333333">(</span>clear<span style="color: #333333">);</span>
                    matrix_display<span style="color: #333333">(</span>efront<span style="color: #333333">);</span>   
                    <span style="color: #008800; font-weight: bold">break</span><span style="color: #333333">;</span>
                    
                    <span style="color: #008800; font-weight: bold">case</span> <span style="color: #005588; font-weight: bold">0xFFA857</span> <span style="color: #333333">:</span> car_back<span style="color: #333333">();</span> <span style="color: #888888">//Receive 0xFFA857, el coche va para atras</span>
                    matrix_display<span style="color: #333333">(</span>clear<span style="color: #333333">);</span>
                    matrix_display<span style="color: #333333">(</span>eback<span style="color: #333333">);</span> 
                    <span style="color: #008800; font-weight: bold">break</span><span style="color: #333333">;</span>
              
                    <span style="color: #008800; font-weight: bold">case</span> <span style="color: #005588; font-weight: bold">0xFF22DD</span> <span style="color: #333333">:</span> car_left<span style="color: #333333">();</span> <span style="color: #888888">//Receive 0xFF22DD,el coche gira hacia la izquierda</span>
                    matrix_display<span style="color: #333333">(</span>clear<span style="color: #333333">);</span>
                    matrix_display<span style="color: #333333">(</span>eleft<span style="color: #333333">);</span> 
                    <span style="color: #008800; font-weight: bold">break</span><span style="color: #333333">;</span>
                   
                    <span style="color: #008800; font-weight: bold">case</span> <span style="color: #005588; font-weight: bold">0xFFC23D</span> <span style="color: #333333">:</span> car_right<span style="color: #333333">();</span><span style="color: #888888">//Receive 0xFFC23D,el coche gira hacia la derecha</span>
                    matrix_display<span style="color: #333333">(</span>clear<span style="color: #333333">);</span>
                    matrix_display<span style="color: #333333">(</span>eright<span style="color: #333333">);</span>  
                    <span style="color: #008800; font-weight: bold">break</span><span style="color: #333333">;</span>
                   
                    <span style="color: #008800; font-weight: bold">case</span> <span style="color: #005588; font-weight: bold">0xFF02FD</span> <span style="color: #333333">:</span> car_Stop<span style="color: #333333">();</span><span style="color: #888888">//Receive 0xFF02FD,el coche para</span>
                    matrix_display<span style="color: #333333">(</span>clear<span style="color: #333333">);</span>
                    matrix_display<span style="color: #333333">(</span>STOP01<span style="color: #333333">);</span> 
                    <span style="color: #008800; font-weight: bold">break</span><span style="color: #333333">;</span>
                  <span style="color: #333333">}</span>
                      irrecv<span style="color: #333333">.</span><span style="color: #0000CC">resume</span><span style="color: #333333">();</span> <span style="color: #888888">// recive el siguiente valor</span>
                <span style="color: #333333">}</span>
              
                
                 <span style="color: #008800; font-weight: bold">if</span> <span style="color: #333333">(</span>mode <span style="color: #333333">==</span> <span style="color: #0000DD; font-weight: bold">1</span><span style="color: #333333">)</span> <span style="color: #333333">{</span>
                    <span style="color: #888888">//automatico</span>
                    avoid<span style="color: #333333">();</span> <span style="color: #888888">//inicia el control automatico</span>
                 <span style="color: #333333">}</span> 
              
                 <span style="color: #008800; font-weight: bold">if</span> <span style="color: #333333">(</span>mode <span style="color: #333333">==</span> <span style="color: #0000DD; font-weight: bold">2</span><span style="color: #333333">)</span> <span style="color: #333333">{</span>
                  <span style="color: #888888">// siguelineas</span>
                  tracking<span style="color: #333333">();</span> <span style="color: #888888">//INICIA EL TRACKING</span>
                 <span style="color: #333333">}</span>
              <span style="color: #333333">}</span>
              
              
              <span style="color: #333399; font-weight: bold">void</span> <span style="color: #0066BB; font-weight: bold">avoid</span><span style="color: #333333">()</span>
              <span style="color: #333333">{</span>
                distance<span style="color: #333333">=</span>sr04<span style="color: #333333">.</span><span style="color: #0000CC">Distance</span><span style="color: #333333">();</span> <span style="color: #888888">//obtain the value detected by ultrasonic sensor </span>
              
                <span style="color: #008800; font-weight: bold">if</span><span style="color: #333333">((</span>distance <span style="color: #333333">&lt;</span> <span style="color: #0000DD; font-weight: bold">20</span><span style="color: #333333">)&amp;&amp;(</span>distance <span style="color: #333333">!=</span> <span style="color: #0000DD; font-weight: bold">0</span><span style="color: #333333">))</span><span style="color: #888888">//if the distance is greater than 0 and less than 10  </span>
              
                <span style="color: #333333">{</span>
                  car_Stop<span style="color: #333333">();</span><span style="color: #888888">//stop</span>
                  matrix_display<span style="color: #333333">(</span>clear<span style="color: #333333">);</span>
                  matrix_display<span style="color: #333333">(</span>STOP01<span style="color: #333333">);</span><span style="color: #888888">//en la pantalla sale que para</span>
                  delay<span style="color: #333333">(</span><span style="color: #0000DD; font-weight: bold">1000</span><span style="color: #333333">);</span>
                  servopulse<span style="color: #333333">(</span>servopin<span style="color: #333333">,</span><span style="color: #0000DD; font-weight: bold">160</span><span style="color: #333333">);</span><span style="color: #888888">//el servo gira 160Â°</span>
                  delay<span style="color: #333333">(</span><span style="color: #0000DD; font-weight: bold">500</span><span style="color: #333333">);</span>
                  a1<span style="color: #333333">=</span>sr04<span style="color: #333333">.</span><span style="color: #0000CC">Distance</span><span style="color: #333333">();</span><span style="color: #888888">//mide la distancia</span>
                  delay<span style="color: #333333">(</span><span style="color: #0000DD; font-weight: bold">100</span><span style="color: #333333">);</span>
                  servopulse<span style="color: #333333">(</span>servopin<span style="color: #333333">,</span><span style="color: #0000DD; font-weight: bold">20</span><span style="color: #333333">);</span><span style="color: #888888">//rotate to 20 degree</span>
                  delay<span style="color: #333333">(</span><span style="color: #0000DD; font-weight: bold">500</span><span style="color: #333333">);</span>
                  a2<span style="color: #333333">=</span>sr04<span style="color: #333333">.</span><span style="color: #0000CC">Distance</span><span style="color: #333333">();</span><span style="color: #888888">//mide la distancia</span>
                  delay<span style="color: #333333">(</span><span style="color: #0000DD; font-weight: bold">100</span><span style="color: #333333">);</span>
                  servopulse<span style="color: #333333">(</span>servopin<span style="color: #333333">,</span><span style="color: #0000DD; font-weight: bold">90</span><span style="color: #333333">);</span>  <span style="color: #888888">//Return to the 90 degree position</span>
                  delay<span style="color: #333333">(</span><span style="color: #0000DD; font-weight: bold">500</span><span style="color: #333333">);</span>
                  <span style="color: #008800; font-weight: bold">if</span><span style="color: #333333">(</span>a1 <span style="color: #333333">&gt;</span> a2<span style="color: #333333">)</span><span style="color: #888888">//compara la distancia, si la distancia de la izquierda es mas que la de la derecha</span>
                  <span style="color: #333333">{</span>
                    car_left<span style="color: #333333">();</span><span style="color: #888888">//gira hacia la izquierda</span>
                    matrix_display<span style="color: #333333">(</span>clear<span style="color: #333333">);</span>
                    matrix_display<span style="color: #333333">(</span>eleft<span style="color: #333333">);</span>    <span style="color: #888888">//display left-turning pattern</span>
                    servopulse<span style="color: #333333">(</span>servopin<span style="color: #333333">,</span><span style="color: #0000DD; font-weight: bold">90</span><span style="color: #333333">);</span> <span style="color: #888888">//servo gira 90 grados</span>
                    delay<span style="color: #333333">(</span><span style="color: #0000DD; font-weight: bold">700</span><span style="color: #333333">);</span> <span style="color: #888888">//turn left 700ms</span>
                    matrix_display<span style="color: #333333">(</span>clear<span style="color: #333333">);</span>
                    matrix_display<span style="color: #333333">(</span>efront<span style="color: #333333">);</span>  <span style="color: #888888">//show forward pattern</span>
                  <span style="color: #333333">}</span>
                  <span style="color: #008800; font-weight: bold">else</span><span style="color: #888888">//if the right distance is greater than the left</span>
                  <span style="color: #333333">{</span>
                    car_right<span style="color: #333333">();</span><span style="color: #888888">//turn right</span>
                    matrix_display<span style="color: #333333">(</span>clear<span style="color: #333333">);</span>
                    matrix_display<span style="color: #333333">(</span>eright<span style="color: #333333">);</span>  <span style="color: #888888">//display right-turning pattern</span>
                    servopulse<span style="color: #333333">(</span>servopin<span style="color: #333333">,</span><span style="color: #0000DD; font-weight: bold">90</span><span style="color: #333333">);</span><span style="color: #888888">//servo rotates to 90 degree</span>
                    delay<span style="color: #333333">(</span><span style="color: #0000DD; font-weight: bold">700</span><span style="color: #333333">);</span>
                    matrix_display<span style="color: #333333">(</span>clear<span style="color: #333333">);</span>
                    matrix_display<span style="color: #333333">(</span>efront<span style="color: #333333">);</span>  <span style="color: #888888">//show forward pattern</span>
                  <span style="color: #333333">}</span>
                <span style="color: #333333">}</span>
                <span style="color: #008800; font-weight: bold">else</span> <span style="color: #888888">//otherwise</span>
                <span style="color: #333333">{</span>
                  car_front<span style="color: #333333">();</span><span style="color: #888888">//va recto</span>
                  matrix_display<span style="color: #333333">(</span>clear<span style="color: #333333">);</span>
                  matrix_display<span style="color: #333333">(</span>efront<span style="color: #333333">);</span>  <span style="color: #888888">// show forward pattern</span>
                <span style="color: #333333">}</span>
              <span style="color: #333333">}</span>
              
              <span style="color: #333399; font-weight: bold">void</span> <span style="color: #0066BB; font-weight: bold">car_front</span><span style="color: #333333">()</span> <span style="color: #888888">//define que va hacia delante</span>
              <span style="color: #333333">{</span>
                digitalWrite<span style="color: #333333">(</span>left_ctrl<span style="color: #333333">,</span>HIGH<span style="color: #333333">);</span> <span style="color: #888888">//hacia delante</span>
                analogWrite<span style="color: #333333">(</span>left_pwm<span style="color: #333333">,</span><span style="color: #0000DD; font-weight: bold">105</span><span style="color: #333333">);</span> <span style="color: #888888">//velocidad</span>
                digitalWrite<span style="color: #333333">(</span>right_ctrl<span style="color: #333333">,</span>HIGH<span style="color: #333333">);</span>
                analogWrite<span style="color: #333333">(</span>right_pwm<span style="color: #333333">,</span><span style="color: #0000DD; font-weight: bold">105</span><span style="color: #333333">);</span>
              <span style="color: #333333">}</span>
              <span style="color: #333399; font-weight: bold">void</span> <span style="color: #0066BB; font-weight: bold">car_back</span><span style="color: #333333">()</span> <span style="color: #888888">//define que va hacia detras</span>
              <span style="color: #333333">{</span>
                digitalWrite<span style="color: #333333">(</span>left_ctrl<span style="color: #333333">,</span>LOW<span style="color: #333333">);</span>
                analogWrite<span style="color: #333333">(</span>left_pwm<span style="color: #333333">,</span><span style="color: #0000DD; font-weight: bold">150</span><span style="color: #333333">);</span>
                digitalWrite<span style="color: #333333">(</span>right_ctrl<span style="color: #333333">,</span>LOW<span style="color: #333333">);</span>
                analogWrite<span style="color: #333333">(</span>right_pwm<span style="color: #333333">,</span><span style="color: #0000DD; font-weight: bold">150</span><span style="color: #333333">);</span>
              <span style="color: #333333">}</span>
              <span style="color: #333399; font-weight: bold">void</span> <span style="color: #0066BB; font-weight: bold">car_left</span><span style="color: #333333">()</span> <span style="color: #888888">//define que el coche gira hacia la izquierda</span>
              <span style="color: #333333">{</span>
                digitalWrite<span style="color: #333333">(</span>left_ctrl<span style="color: #333333">,</span> LOW<span style="color: #333333">);</span>
                analogWrite<span style="color: #333333">(</span>left_pwm<span style="color: #333333">,</span> <span style="color: #0000DD; font-weight: bold">100</span><span style="color: #333333">);</span>  
                digitalWrite<span style="color: #333333">(</span>right_ctrl<span style="color: #333333">,</span> HIGH<span style="color: #333333">);</span>
                analogWrite<span style="color: #333333">(</span>right_pwm<span style="color: #333333">,</span> <span style="color: #0000DD; font-weight: bold">155</span><span style="color: #333333">);</span>
              <span style="color: #333333">}</span>
              <span style="color: #333399; font-weight: bold">void</span> <span style="color: #0066BB; font-weight: bold">car_right</span><span style="color: #333333">()</span> <span style="color: #888888">//define que el coche gira hacia la derecha</span>
              <span style="color: #333333">{</span>
                digitalWrite<span style="color: #333333">(</span>left_ctrl<span style="color: #333333">,</span> HIGH<span style="color: #333333">);</span>
                analogWrite<span style="color: #333333">(</span>left_pwm<span style="color: #333333">,</span> <span style="color: #0000DD; font-weight: bold">155</span><span style="color: #333333">);</span>
                digitalWrite<span style="color: #333333">(</span>right_ctrl<span style="color: #333333">,</span> LOW<span style="color: #333333">);</span>
                analogWrite<span style="color: #333333">(</span>right_pwm<span style="color: #333333">,</span> <span style="color: #0000DD; font-weight: bold">100</span><span style="color: #333333">);</span>
              <span style="color: #333333">}</span>
              <span style="color: #333399; font-weight: bold">void</span> <span style="color: #0066BB; font-weight: bold">car_Stop</span><span style="color: #333333">()</span> <span style="color: #888888">//con esto defines que el coche pare</span>
              <span style="color: #333333">{</span>
                digitalWrite<span style="color: #333333">(</span>left_ctrl<span style="color: #333333">,</span>LOW<span style="color: #333333">);</span>
                analogWrite<span style="color: #333333">(</span>left_pwm<span style="color: #333333">,</span><span style="color: #0000DD; font-weight: bold">0</span><span style="color: #333333">);</span>
                digitalWrite<span style="color: #333333">(</span>right_ctrl<span style="color: #333333">,</span>LOW<span style="color: #333333">);</span>
                analogWrite<span style="color: #333333">(</span>right_pwm<span style="color: #333333">,</span><span style="color: #0000DD; font-weight: bold">0</span><span style="color: #333333">);</span>
              <span style="color: #333333">}</span>
              
              <span style="color: #888888">//this function is used for dot matrix display</span>
              
              <span style="color: #333399; font-weight: bold">void</span> <span style="color: #0066BB; font-weight: bold">matrix_display</span><span style="color: #333333">(</span>unsigned <span style="color: #333399; font-weight: bold">char</span> matrix_value<span style="color: #333333">[])</span>
              <span style="color: #333333">{</span>
                IIC_start<span style="color: #333333">();</span>  <span style="color: #888888">//the function that calls the data transfer start condition</span>
                IIC_send<span style="color: #333333">(</span><span style="color: #005588; font-weight: bold">0xc0</span><span style="color: #333333">);</span>  <span style="color: #888888">//select address</span>
              
                <span style="color: #008800; font-weight: bold">for</span> <span style="color: #333333">(</span><span style="color: #333399; font-weight: bold">int</span> i <span style="color: #333333">=</span> <span style="color: #0000DD; font-weight: bold">0</span><span style="color: #333333">;</span> i <span style="color: #333333">&lt;</span> <span style="color: #0000DD; font-weight: bold">16</span><span style="color: #333333">;</span> i<span style="color: #333333">++)</span> <span style="color: #888888">//the pattern data is 16 bytes</span>
                <span style="color: #333333">{</span>
                  IIC_send<span style="color: #333333">(</span>matrix_value<span style="color: #333333">[</span>i<span style="color: #333333">]);</span> <span style="color: #888888">//Transmit the data of the pattern</span>
                <span style="color: #333333">}</span>
                IIC_end<span style="color: #333333">();</span>   <span style="color: #888888">//End pattern data transmission</span>
                IIC_start<span style="color: #333333">();</span>
                IIC_send<span style="color: #333333">(</span><span style="color: #005588; font-weight: bold">0x8A</span><span style="color: #333333">);</span>  <span style="color: #888888">//Display control, select 4/16 pulse width</span>
                IIC_end<span style="color: #333333">();</span>
              <span style="color: #333333">}</span>
              <span style="color: #888888">//Conditions under which data transmission begins</span>
              
              <span style="color: #333399; font-weight: bold">void</span> <span style="color: #0066BB; font-weight: bold">IIC_start</span><span style="color: #333333">()</span>
              <span style="color: #333333">{</span>
                digitalWrite<span style="color: #333333">(</span>SDA_Pin<span style="color: #333333">,</span> HIGH<span style="color: #333333">);</span>
                digitalWrite<span style="color: #333333">(</span>SCL_Pin<span style="color: #333333">,</span> HIGH<span style="color: #333333">);</span>
                delayMicroseconds<span style="color: #333333">(</span><span style="color: #0000DD; font-weight: bold">3</span><span style="color: #333333">);</span>
                digitalWrite<span style="color: #333333">(</span>SDA_Pin<span style="color: #333333">,</span> LOW<span style="color: #333333">);</span>
                delayMicroseconds<span style="color: #333333">(</span><span style="color: #0000DD; font-weight: bold">3</span><span style="color: #333333">);</span>
                digitalWrite<span style="color: #333333">(</span>SCL_Pin<span style="color: #333333">,</span> LOW<span style="color: #333333">);</span>
              <span style="color: #333333">}</span>
              
              <span style="color: #888888">//Indicates the end of data transmission</span>
              
              <span style="color: #333399; font-weight: bold">void</span> <span style="color: #0066BB; font-weight: bold">IIC_end</span><span style="color: #333333">()</span>
              <span style="color: #333333">{</span>
                digitalWrite<span style="color: #333333">(</span>SCL_Pin<span style="color: #333333">,</span> LOW<span style="color: #333333">);</span>
                digitalWrite<span style="color: #333333">(</span>SDA_Pin<span style="color: #333333">,</span> LOW<span style="color: #333333">);</span>
                delayMicroseconds<span style="color: #333333">(</span><span style="color: #0000DD; font-weight: bold">3</span><span style="color: #333333">);</span>
                digitalWrite<span style="color: #333333">(</span>SCL_Pin<span style="color: #333333">,</span> HIGH<span style="color: #333333">);</span>
                delayMicroseconds<span style="color: #333333">(</span><span style="color: #0000DD; font-weight: bold">3</span><span style="color: #333333">);</span>
                digitalWrite<span style="color: #333333">(</span>SDA_Pin<span style="color: #333333">,</span> HIGH<span style="color: #333333">);</span>
                delayMicroseconds<span style="color: #333333">(</span><span style="color: #0000DD; font-weight: bold">3</span><span style="color: #333333">);</span>
              <span style="color: #333333">}</span>
              
              <span style="color: #888888">//transmit data</span>
              
              <span style="color: #333399; font-weight: bold">void</span> <span style="color: #0066BB; font-weight: bold">IIC_send</span><span style="color: #333333">(</span>unsigned <span style="color: #333399; font-weight: bold">char</span> send_data<span style="color: #333333">)</span>
              <span style="color: #333333">{</span>
                <span style="color: #008800; font-weight: bold">for</span> <span style="color: #333333">(</span><span style="color: #333399; font-weight: bold">byte</span> mask <span style="color: #333333">=</span> <span style="color: #005588; font-weight: bold">0x01</span><span style="color: #333333">;</span> mask <span style="color: #333333">!=</span> <span style="color: #0000DD; font-weight: bold">0</span><span style="color: #333333">;</span> mask <span style="color: #333333">&lt;&lt;=</span> <span style="color: #0000DD; font-weight: bold">1</span><span style="color: #333333">)</span> <span style="color: #888888">//Each byte has 8 bits and is checked bit by bit starting at the lowest level</span>
                <span style="color: #333333">{</span>
                  <span style="color: #008800; font-weight: bold">if</span> <span style="color: #333333">(</span>send_data <span style="color: #333333">&amp;</span> mask<span style="color: #333333">)</span> <span style="color: #333333">{</span> <span style="color: #888888">//Sets the high and low levels of SDA_Pin depending on whether each bit of the byte is a 1 or a 0</span>
                    digitalWrite<span style="color: #333333">(</span>SDA_Pin<span style="color: #333333">,</span> HIGH<span style="color: #333333">);</span>
                  <span style="color: #333333">}</span> <span style="color: #008800; font-weight: bold">else</span> <span style="color: #333333">{</span>
                    digitalWrite<span style="color: #333333">(</span>SDA_Pin<span style="color: #333333">,</span> LOW<span style="color: #333333">);</span>
                  <span style="color: #333333">}</span>
                  delayMicroseconds<span style="color: #333333">(</span><span style="color: #0000DD; font-weight: bold">3</span><span style="color: #333333">);</span>
                  digitalWrite<span style="color: #333333">(</span>SCL_Pin<span style="color: #333333">,</span> HIGH<span style="color: #333333">);</span> <span style="color: #888888">//Pull the clock pin SCL_Pin high to stop data transmission</span>
                  delayMicroseconds<span style="color: #333333">(</span><span style="color: #0000DD; font-weight: bold">3</span><span style="color: #333333">);</span>
                  digitalWrite<span style="color: #333333">(</span>SCL_Pin<span style="color: #333333">,</span> LOW<span style="color: #333333">);</span> <span style="color: #888888">//pull the clock pin SCL_Pin low to change the SIGNAL of SDA </span>
                <span style="color: #333333">}</span>
              <span style="color: #333333">}</span>
              
              <span style="color: #888888">//FF6897 es el numero 1</span>
              <span style="color: #888888">//FF9867 es el numero 2</span>
              
              
              <span style="color: #888888">//*******************************************************************************</span>
              
              
              <span style="color: #333399; font-weight: bold">void</span> <span style="color: #0066BB; font-weight: bold">servopulse</span><span style="color: #333333">(</span><span style="color: #333399; font-weight: bold">int</span> servopin<span style="color: #333333">,</span><span style="color: #333399; font-weight: bold">int</span> myangle<span style="color: #333333">)</span><span style="color: #888888">//the running angle of servo</span>
              <span style="color: #333333">{</span>
                <span style="color: #008800; font-weight: bold">for</span><span style="color: #333333">(</span><span style="color: #333399; font-weight: bold">int</span> i<span style="color: #333333">=</span><span style="color: #0000DD; font-weight: bold">0</span><span style="color: #333333">;</span> i<span style="color: #333333">&lt;</span><span style="color: #0000DD; font-weight: bold">20</span><span style="color: #333333">;</span> i<span style="color: #333333">++)</span>
                <span style="color: #333333">{</span>
                  <span style="color: #333399; font-weight: bold">int</span> pulsewidth <span style="color: #333333">=</span> <span style="color: #333333">(</span>myangle<span style="color: #333333">*</span><span style="color: #0000DD; font-weight: bold">11</span><span style="color: #333333">)+</span><span style="color: #0000DD; font-weight: bold">500</span><span style="color: #333333">;</span>
                  digitalWrite<span style="color: #333333">(</span>servopin<span style="color: #333333">,</span>HIGH<span style="color: #333333">);</span>
                  delayMicroseconds<span style="color: #333333">(</span>pulsewidth<span style="color: #333333">);</span>
                  digitalWrite<span style="color: #333333">(</span>servopin<span style="color: #333333">,</span>LOW<span style="color: #333333">);</span>
                  delay<span style="color: #333333">(</span><span style="color: #0000DD; font-weight: bold">20</span><span style="color: #333333">-</span>pulsewidth<span style="color: #333333">/</span><span style="color: #0000DD; font-weight: bold">1000</span><span style="color: #333333">);</span>
                <span style="color: #333333">}</span> 
              <span style="color: #333333">}</span>
              
              <span style="color: #888888">///codigo siguelineas</span>
              
              <span style="color: #333399; font-weight: bold">void</span> <span style="color: #0066BB; font-weight: bold">tracking</span><span style="color: #333333">()</span>
              <span style="color: #333333">{</span>
                L_val <span style="color: #333333">=</span> digitalRead<span style="color: #333333">(</span>sensor_L<span style="color: #333333">);</span> <span style="color: #888888">//lee el valor del sensor de movimiento izquierdo</span>
                M_val <span style="color: #333333">=</span> digitalRead<span style="color: #333333">(</span>sensor_M<span style="color: #333333">);</span> <span style="color: #888888">//lee el valor del sensor de movimiento del medio</span>
                R_val <span style="color: #333333">=</span> digitalRead<span style="color: #333333">(</span>sensor_R<span style="color: #333333">);</span> <span style="color: #888888">//lee el valor del sensor de movimiento derecho</span>
              
                <span style="color: #008800; font-weight: bold">if</span><span style="color: #333333">(</span>M_val <span style="color: #333333">==</span> <span style="color: #0000DD; font-weight: bold">1</span><span style="color: #333333">){</span><span style="color: #888888">// si el estado del del medio es 1, que significa que detecta la linea negra</span>
              
                   <span style="color: #008800; font-weight: bold">if</span> <span style="color: #333333">(</span>L_val <span style="color: #333333">==</span> <span style="color: #0000DD; font-weight: bold">1</span> <span style="color: #333333">&amp;&amp;</span> R_val <span style="color: #333333">==</span> <span style="color: #0000DD; font-weight: bold">0</span><span style="color: #333333">)</span> <span style="color: #333333">{</span> <span style="color: #888888">//si la linea negra se detecta en la izquierda, pero no en la derecha, gira hacia la izquierda</span>
                      left<span style="color: #333333">();</span>
                  <span style="color: #333333">}</span>
                   <span style="color: #008800; font-weight: bold">else</span> <span style="color: #0066BB; font-weight: bold">if</span> <span style="color: #333333">(</span>L_val <span style="color: #333333">==</span> <span style="color: #0000DD; font-weight: bold">0</span> <span style="color: #333333">&amp;&amp;</span> R_val <span style="color: #333333">==</span> <span style="color: #0000DD; font-weight: bold">1</span><span style="color: #333333">)</span> <span style="color: #333333">{</span> <span style="color: #888888">//por otra parte, si la linea negra se detecta en la derecha, pero no en la izquierda, gira hacia la derecha</span>
                    right<span style="color: #333333">();</span>
                  <span style="color: #333333">}</span>
                   <span style="color: #008800; font-weight: bold">else</span> <span style="color: #333333">{</span> <span style="color: #888888">//por otra parte, va recto</span>
                    front<span style="color: #333333">();</span>
                  <span style="color: #333333">}</span>
                <span style="color: #333333">}</span>
                <span style="color: #008800; font-weight: bold">else</span> <span style="color: #333333">{</span> <span style="color: #888888">//No black lines detected in the middle</span>
                  <span style="color: #008800; font-weight: bold">if</span> <span style="color: #333333">(</span>L_val <span style="color: #333333">==</span> <span style="color: #0000DD; font-weight: bold">1</span> <span style="color: #333333">&amp;&amp;</span> R_val <span style="color: #333333">==</span> <span style="color: #0000DD; font-weight: bold">0</span><span style="color: #333333">)</span> <span style="color: #333333">{</span> <span style="color: #888888">//If a black line is detected on the left, but not on the right, turn left</span>
                    left<span style="color: #333333">();</span>
                  <span style="color: #333333">}</span>
                  <span style="color: #008800; font-weight: bold">else</span> <span style="color: #0066BB; font-weight: bold">if</span> <span style="color: #333333">(</span>L_val <span style="color: #333333">==</span> <span style="color: #0000DD; font-weight: bold">0</span> <span style="color: #333333">&amp;&amp;</span> R_val <span style="color: #333333">==</span> <span style="color: #0000DD; font-weight: bold">1</span><span style="color: #333333">)</span> <span style="color: #333333">{</span> <span style="color: #888888">//Otherwise, if a black line is detected on the right and not on the left, turn right</span>
                    right<span style="color: #333333">();</span>
                  <span style="color: #333333">}</span>
                  <span style="color: #008800; font-weight: bold">else</span> <span style="color: #333333">{</span> <span style="color: #888888">//Otherwise,stop</span>
                    Stop<span style="color: #333333">();</span>
                  <span style="color: #333333">}</span>
                <span style="color: #333333">}</span>
              <span style="color: #333333">}</span>
              <span style="color: #333399; font-weight: bold">void</span> <span style="color: #0066BB; font-weight: bold">front</span><span style="color: #333333">()</span><span style="color: #888888">//define the status of going forward</span>
              <span style="color: #333333">{</span>
                digitalWrite<span style="color: #333333">(</span>left_ctrl<span style="color: #333333">,</span>HIGH<span style="color: #333333">);</span>
                analogWrite<span style="color: #333333">(</span>left_pwm<span style="color: #333333">,</span><span style="color: #0000DD; font-weight: bold">155</span><span style="color: #333333">);</span>
                digitalWrite<span style="color: #333333">(</span>right_ctrl<span style="color: #333333">,</span>HIGH<span style="color: #333333">);</span>
                analogWrite<span style="color: #333333">(</span>right_pwm<span style="color: #333333">,</span><span style="color: #0000DD; font-weight: bold">155</span><span style="color: #333333">);</span>
              <span style="color: #333333">}</span>
              <span style="color: #333399; font-weight: bold">void</span> <span style="color: #0066BB; font-weight: bold">back</span><span style="color: #333333">()</span><span style="color: #888888">//define the state of going back</span>
              <span style="color: #333333">{</span>
                digitalWrite<span style="color: #333333">(</span>left_ctrl<span style="color: #333333">,</span>LOW<span style="color: #333333">);</span>
                analogWrite<span style="color: #333333">(</span>left_pwm<span style="color: #333333">,</span><span style="color: #0000DD; font-weight: bold">100</span><span style="color: #333333">);</span>
                digitalWrite<span style="color: #333333">(</span>right_ctrl<span style="color: #333333">,</span>LOW<span style="color: #333333">);</span>
                analogWrite<span style="color: #333333">(</span>right_pwm<span style="color: #333333">,</span><span style="color: #0000DD; font-weight: bold">100</span><span style="color: #333333">);</span>
              <span style="color: #333333">}</span>
              <span style="color: #333399; font-weight: bold">void</span> <span style="color: #0066BB; font-weight: bold">left</span><span style="color: #333333">()</span><span style="color: #888888">//define the left-turning state</span>
              <span style="color: #333333">{</span>
                digitalWrite<span style="color: #333333">(</span>left_ctrl<span style="color: #333333">,</span> LOW<span style="color: #333333">);</span>
                analogWrite<span style="color: #333333">(</span>left_pwm<span style="color: #333333">,</span> <span style="color: #0000DD; font-weight: bold">100</span><span style="color: #333333">);</span>  
                digitalWrite<span style="color: #333333">(</span>right_ctrl<span style="color: #333333">,</span> HIGH<span style="color: #333333">);</span>
                analogWrite<span style="color: #333333">(</span>right_pwm<span style="color: #333333">,</span> <span style="color: #0000DD; font-weight: bold">155</span><span style="color: #333333">);</span>
              <span style="color: #333333">}</span>
              <span style="color: #333399; font-weight: bold">void</span> <span style="color: #0066BB; font-weight: bold">right</span><span style="color: #333333">()</span><span style="color: #888888">//define the right-turning state</span>
              <span style="color: #333333">{</span>
                digitalWrite<span style="color: #333333">(</span>left_ctrl<span style="color: #333333">,</span> HIGH<span style="color: #333333">);</span>
                analogWrite<span style="color: #333333">(</span>left_pwm<span style="color: #333333">,</span> <span style="color: #0000DD; font-weight: bold">155</span><span style="color: #333333">);</span>
                digitalWrite<span style="color: #333333">(</span>right_ctrl<span style="color: #333333">,</span> LOW<span style="color: #333333">);</span>
                analogWrite<span style="color: #333333">(</span>right_pwm<span style="color: #333333">,</span> <span style="color: #0000DD; font-weight: bold">100</span><span style="color: #333333">);</span>
              <span style="color: #333333">}</span>
              <span style="color: #333399; font-weight: bold">void</span> <span style="color: #0066BB; font-weight: bold">Stop</span><span style="color: #333333">()</span><span style="color: #888888">//define the state of stop</span>
              <span style="color: #333333">{</span>
                digitalWrite<span style="color: #333333">(</span>left_ctrl<span style="color: #333333">,</span> LOW<span style="color: #333333">);</span>
                analogWrite<span style="color: #333333">(</span>left_pwm<span style="color: #333333">,</span><span style="color: #0000DD; font-weight: bold">0</span><span style="color: #333333">);</span>
                digitalWrite<span style="color: #333333">(</span>right_ctrl<span style="color: #333333">,</span> LOW<span style="color: #333333">);</span>
                analogWrite<span style="color: #333333">(</span>right_pwm<span style="color: #333333">,</span><span style="color: #0000DD; font-weight: bold">0</span><span style="color: #333333">);</span>
              <span style="color: #333333">}</span>
              <span style="color: #888888">//*********************************************************</span>
              </pre></div>
              </p>

        </section>
    </div>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="script.js"></script>


</body>
</html>